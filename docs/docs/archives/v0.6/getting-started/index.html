<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.60.1" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">

<link rel="alternate" type="application/rss&#43;xml" href="https://streamthoughts.github.io/azkarra-streams/docs/archives/v0.6/getting-started/index.xml">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/azkarra-streams/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/azkarra-streams/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/azkarra-streams/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/azkarra-streams/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/azkarra-streams/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/azkarra-streams/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/azkarra-streams/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/azkarra-streams/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/azkarra-streams/favicons/android-192x192.png" sizes="192x192">

<title>Getting Started | Azkarra Streams</title><meta property="og:title" content="Getting Started" />
<meta property="og:description" content="Get started with Azkarra Streams through a step by step tutorial.
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://streamthoughts.github.io/azkarra-streams/docs/archives/v0.6/getting-started/" />
<meta property="og:updated_time" content="2020-01-06T00:00:00+00:00" /><meta property="og:site_name" content="Azkarra Streams" />
<meta itemprop="name" content="Getting Started">
<meta itemprop="description" content="Get started with Azkarra Streams through a step by step tutorial.
"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Getting Started"/>
<meta name="twitter:description" content="Get started with Azkarra Streams through a step by step tutorial.
"/>







<link rel="preload" href="/azkarra-streams/scss/main.min.5c022bb1bcdbd2d7181d4d78f7760ca212f032b4798bc8e14fbb26be825833d3.css" as="style">
<link href="/azkarra-streams/scss/main.min.5c022bb1bcdbd2d7181d4d78f7760ca212f032b4798bc8e14fbb26be825833d3.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>


  </head>
  <body class="td-section">
    <header>
      

<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/azkarra-streams/">
		<span class="navbar-logo"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg20" viewBox="0 0 169.33334 169.33333" height="640" width="640"><defs id="defs14"><linearGradient id="linearGradient1128"><stop style="stop-color:#2880c1;stop-opacity:1" offset="0" id="stop1124" /><stop style="stop-color:#26b793;stop-opacity:1" offset="1" id="stop1126" /></linearGradient><linearGradient id="linearGradient1026"><stop id="stop1022" offset="0" style="stop-color:#2880c1;stop-opacity:1" /><stop id="stop1024" offset="1" style="stop-color:#26b793;stop-opacity:.97083336" /></linearGradient><linearGradient gradientTransform="translate(-9.0871639,-0.80180858)" gradientUnits="userSpaceOnUse" y2="256.77591" x2="168.91434" y1="256.77591" x1="84.189896" id="linearGradient932" xlink:href="#linearGradient1026" /><linearGradient gradientUnits="userSpaceOnUse" y2="255.88335" x2="163.04314" y1="255.88335" x1="83.795662" id="linearGradient1122" xlink:href="#linearGradient1128" /><linearGradient y2="255.88335" x2="163.04314" y1="255.88335" x1="83.795662" gradientUnits="userSpaceOnUse" id="linearGradient1160" xlink:href="#linearGradient1128" /><linearGradient y2="255.88335" x2="163.04314" y1="255.88335" x1="83.795662" gradientUnits="userSpaceOnUse" id="linearGradient1162" xlink:href="#linearGradient1128" /><linearGradient y2="255.88335" x2="163.04314" y1="255.88335" x1="83.795662" gradientUnits="userSpaceOnUse" id="linearGradient1164" xlink:href="#linearGradient1128" /><linearGradient y2="255.88335" x2="163.04314" y1="255.88335" x1="83.795662" gradientUnits="userSpaceOnUse" id="linearGradient1166" xlink:href="#linearGradient1128" /><linearGradient y2="255.88335" x2="163.04314" y1="255.88335" x1="83.795662" gradientUnits="userSpaceOnUse" id="linearGradient1168" xlink:href="#linearGradient1128" /><linearGradient y2="255.88335" x2="163.04314" y1="255.88335" x1="83.795662" gradientUnits="userSpaceOnUse" id="linearGradient1170" xlink:href="#linearGradient1128" /><linearGradient y2="255.88335" x2="163.04314" y1="255.88335" x1="83.795662" gradientUnits="userSpaceOnUse" id="linearGradient1172" xlink:href="#linearGradient1128" /><linearGradient gradientTransform="matrix(1.0715473,0,0,0.74752329,-20.311107,2.4777858)" gradientUnits="userSpaceOnUse" y2="257.31247" x2="77.319756" y1="257.31247" x1="43.34914" id="linearGradient1195" xlink:href="#linearGradient1128" /></defs><g transform="translate(2.5336669,-91.234683)" id="layer1"><rect y="88.307976" x="-3.7217979" height="173.05557" width="172.14816" id="rect842" style="opacity:1;fill:#fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1.89503562;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.86776859;paint-order:normal" /><text id="text24" y="182.86746" x="3.3061366" style="font-style:normal;font-weight:400;font-size:43.55392838px;line-height:30.85000229;font-family:sans-serif;letter-spacing:0;word-spacing:0;fill:#343a40;fill-opacity:1;stroke:none;stroke-width:.27221209"><tspan style="font-style:normal;font-variant:normal;font-weight:300;font-stretch:normal;font-family:Montserrat;-inkscape-font-specification:'Montserrat Light';fill:#343a40;fill-opacity:1;stroke-width:.27221209" y="182.86746" x="3.3061366" id="tspan22">Azkarra</tspan></text><g transform="matrix(1.0715474,0,0,1.0715474,-13.664274,-80.480358)" id="text28" style="font-style:normal;font-weight:400;font-size:21.16666603px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;opacity:1;fill:url(#linearGradient1122);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:.26458332" aria-label="streams"><path id="path1093" style="font-style:normal;font-variant:normal;font-weight:700;font-stretch:normal;font-family:Montserrat;-inkscape-font-specification:'Montserrat Bold';opacity:1;fill:url(#linearGradient1160);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:.26458332" d="m79.986796 262.92126c-.945444.0-1.869722-.11289-2.772833-.33867-.903111-.23989-1.622777-.53622-2.159-.889l.106758-1.25983c.508.32456 2.115742-.15067 2.835409.061.719667.19755 1.007613-.0795 1.699057-.0795 1.397.0 2.513109-.33737 2.513109-1.02882.0-.32455-.1905-.55739-.5715-.6985s-.966611-.26105-1.756833-.35983c-.931333-.14111-1.700389-.30339-2.307166-.48683-.606778-.18345-1.135945-.508-1.5875-.97367-.437445-.46567-.656167-1.12889-.656167-1.98967.0-.71967.204611-1.35467.613833-1.905.423333-.56444 1.030111-1.00188 1.820334-1.31233.804333-.31045 1.749777-.46567 2.836333-.46567.804333.0 1.601611.0917 2.391833.27517.804333.16933 1.467556.40922 1.989667.71967l-1.100667 2.3495c-1.001889-.56445-2.0955-.84667-3.280833-.84667-.705556.0-1.234723.0988-1.5875.29633-.352778.19756-.529167.45156-.529167.762.0.35278.1905.59973.5715.74084s.987778.27516 1.820333.40216c.931333.15523 1.693333.32456 2.286.508.592667.16933 1.107722.48683 1.545167.9525.437445.46567.656167 1.11478.656167 1.94734.0.70555-.211667 1.3335-.635 1.88383s-1.044222.98072-1.862667 1.29117c-.804333.29633-1.763889.4445-2.878667.4445z" /><path id="path1095" style="font-style:normal;font-variant:normal;font-weight:700;font-stretch:normal;font-family:Montserrat;-inkscape-font-specification:'Montserrat Bold';opacity:1;fill:url(#linearGradient1162);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:.26458332" d="m94.745254 262.20159q-.486833.35983-1.2065.55033-.6985.16934-1.481667.16934-2.031999.0-3.153833-1.03717-1.100666-1.03717-1.100666-3.048v-4.67783h-1.756834v-2.54h1.756834v-2.77284h3.301999v2.77284h2.836334v2.54h-2.836334v4.6355q0 .71966.359834 1.12183.381.381 1.058333.381.783167.0 1.3335-.42333z" /><path id="path1097" style="font-style:normal;font-variant:normal;font-weight:700;font-stretch:normal;font-family:Montserrat;-inkscape-font-specification:'Montserrat Bold';opacity:1;fill:url(#linearGradient1164);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:.26458332" d="m99.77333 252.86709q.59267-.8255 1.5875-1.24883 1.016-.42334 2.32833-.42334v3.048q-.55033-.0423-.74083-.0423-1.41817.0-2.2225.80433-.804333.78317-.804333 2.37067v5.37633h-3.302v-11.38766h3.153833z" /><path id="path1099" style="font-style:normal;font-variant:normal;font-weight:700;font-stretch:normal;font-family:Montserrat;-inkscape-font-specification:'Montserrat Bold';opacity:1;fill:url(#linearGradient1166);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:.26458332" d="m116.70402 257.10042q0 .0635-.0635.889h-8.61484q.23284 1.05834 1.10067 1.67217t2.159.61383q.889.0 1.56633-.254.6985-.27516 1.29117-.84666l1.75683 1.905q-1.60866 1.8415-4.699 1.8415-1.92616.0-3.40783-.74084-1.48167-.762-2.286-2.0955-.80433-1.3335-.80433-3.02683.0-1.67217.78316-3.00567.80434-1.35466 2.18017-2.0955 1.397-.762 3.1115-.762 1.67217.0 3.02683.71967 1.35467.71967 2.11667 2.07433.78317 1.3335.78317 3.1115zm-5.9055-3.40783q-1.12184.0-1.88384.635t-.93133 1.73567h5.60917q-.16934-1.0795-.93134-1.7145-.762-.65617-1.86266-.65617z" /><path id="path1101" style="font-style:normal;font-variant:normal;font-weight:700;font-stretch:normal;font-family:Montserrat;-inkscape-font-specification:'Montserrat Bold';opacity:1;fill:url(#linearGradient1168);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:.26458332" d="m123.16481 251.19492q2.64584.0 4.064 1.27 1.41817 1.24884 1.41817 3.78884v6.49816h-3.09033v-1.41816q-.93134 1.5875-3.47134 1.5875-1.31233.0-2.286-.4445-.9525-.4445-1.4605-1.22767t-.508-1.778q0-1.5875 1.18534-2.49767 1.2065-.91016 3.70416-.91016h2.62467q0-1.0795-.65617-1.651-.65616-.59267-1.9685-.59267-.91016.0-1.79916.29633-.86784.27517-1.48167.762l-1.18533-2.30716q.93133-.65617 2.2225-1.016 1.31233-.35984 2.68816-.35984zm-.254 9.50384q.84667.0 1.50284-.381.65616-.40217.93133-1.16417v-1.16417h-2.26483l-2.032 1.3335q0 .635.48683 1.016.508.35984 1.37583.35984z" /><path id="path1103" style="font-style:normal;font-variant:normal;font-weight:700;font-stretch:normal;font-family:Montserrat;-inkscape-font-specification:'Montserrat Bold';opacity:1;fill:url(#linearGradient1170);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:.26458332" d="m146.21928 251.19492q2.13783.0 3.38667 1.27 1.27 1.24884 1.27 3.76767v6.51933h-3.302v-6.01133q0-1.35467-.5715-2.01083-.55034-.67734-1.5875-.67734-1.16417.0-1.8415.762-.67734.74084-.67734 2.2225v5.715h-3.302v-6.01133l-2.159-2.68817q-1.143.0-1.82033.762-.67733.74084-.67733 2.2225v5.715h-3.302v-11.38766h3.15383v1.31233q.635-.71967 1.54517-1.10067.93133-.381 2.032-.381 1.2065.0 2.18016.48684.97367.46566 1.56634 1.37583.6985-.889 1.75683-1.37583 1.0795-.48684 2.3495-.48684z" /><path id="path1105" style="font-style:normal;font-variant:normal;font-weight:700;font-stretch:normal;font-family:Montserrat;-inkscape-font-specification:'Montserrat Bold';opacity:1;fill:url(#linearGradient1172);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:.26458332" d="m157.6668 262.92126q-1.41816.0-2.77283-.33867-1.35467-.35983-2.159-.889l1.10067-2.37067q.762.48684 1.8415.80434 1.0795.29633 2.11666.29633l2.0955-1.03717q0-.48683-.5715-.6985-.5715-.21166-1.75683-.35983-1.397-.21167-2.30717-.48683-.91016-.27517-1.5875-.97367-.65616-.6985-.65616-1.98967.0-1.0795.61383-1.905.635-.84666 1.82033-1.31233 1.2065-.46567 2.83634-.46567 1.2065.0 2.39183.27517 1.2065.254 1.98967.71967l-1.10067 2.3495q-1.50283-.84667-3.28083-.84667-1.05834.0-1.5875.29633-.52917.29634-.52917.762.0.52917.5715.74084.5715.21166 1.82033.40216 1.397.23284 2.286.508.889.254 1.54517.9525.65617.6985.65617 1.94734.0 1.05833-.635 1.88383t-1.86267 1.29117q-1.2065.4445-2.87867.4445z" /></g><rect ry="1.3393987" y="198.56728" x="58.576443" height="2.6787975" width="15.238855" id="rect1046" style="opacity:1;fill:#2880c1;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3.84619355;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0;paint-order:normal" /><rect ry="1.3393987" y="198.56728" x="51.501339" height="2.6787975" width="6.1259227" id="rect1046-56" style="opacity:1;fill:#2880c1;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2.4386003;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0;paint-order:normal" /><rect ry="1.3393987" y="198.4592" x="3.2218206" height="2.6787975" width="42.982685" id="rect1046-56-2" style="opacity:1;fill:#2880c1;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:6.45954132;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0;paint-order:normal" /><rect ry=".93437928" y="193.89046" x="26.139544" height="1.8687586" width="36.401131" id="rect1046-56-2-9" style="opacity:1;fill:url(#linearGradient1195);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:4.96499634;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0;paint-order:normal" /></g></svg></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/azkarra-streams/docs/overview/azkarra/" ><span>What is Azkarra ?</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/azkarra-streams/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/azkarra-streams/blog/" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/azkarra-streams/community/" ><span>Community</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="https://github.com/streamthoughts/azkarra-streams" target="_blank" ><span>GitHub</span></a>
			</li>
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Releases
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/docs">master</a>
	
	<a class="dropdown-item" href="/v0-8/docs">v0.8.x</a>
	
	<a class="dropdown-item" href="/v0-7/docs">v0.7.x</a>
	
	<a class="dropdown-item" href="/v0-6/docs">v0.6.x</a>
	
</div>

			</li>
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="azkarra-streams-docs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/overview/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-overview">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/overview/azkarra/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-overview-azkarra">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/overview/contribution-guidelines/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contribution Guidelines</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-overview-contribution-guidelines">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/getting-started/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting Started</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-getting-started">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/developer-guide/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developer Guide</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-developer-guide">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-topologyprovider" href="/azkarra-streams/docs/developer-guide/topologyprovider/">TopologyProvider</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-streamsexecutionenvironment" href="/azkarra-streams/docs/developer-guide/streamsexecutionenvironment/">StreamsExecutionEnvironment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-configuration" href="/azkarra-streams/docs/developer-guide/configuration/">Configuration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-azkarracontext" href="/azkarra-streams/docs/developer-guide/azkarracontext/">AzkarraContext</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-azkarraapplication" href="/azkarra-streams/docs/developer-guide/azkarraapplication/">AzkarraApplication</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-dependencyinjection" href="/azkarra-streams/docs/developer-guide/dependencyinjection/">Dependency Injection</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-streamslifecycleinterceptors" href="/azkarra-streams/docs/developer-guide/streamslifecycleinterceptors/">The StreamsLifecycle Intercepting Chain</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-errormanagement" href="/azkarra-streams/docs/developer-guide/errormanagement/">Error Management</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-embeddedwebserver" href="/azkarra-streams/docs/developer-guide/embeddedwebserver/">Embedded Web Server</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-security" href="/azkarra-streams/docs/developer-guide/security/">Security</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-developer-guide-rocksdb" href="/azkarra-streams/docs/developer-guide/rocksdb/">RocksDB</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/azkarra-dashboard/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Dashboard</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-azkarra-dashboard">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/azkarra-metrics/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Metrics</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-azkarra-metrics">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/azkarra-worker/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Worker</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-azkarra-worker">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/examples/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tutorials and Shared Resources</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-examples">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-faq">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/reference/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reference</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-reference">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/reference/api-docs/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Streams API Docs</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-reference-api-docs">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/reference/rest-apis/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Streams REST Interface</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-reference-rest-apis">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-reference-rest-apis-application" href="/azkarra-streams/docs/reference/rest-apis/application/">Applications</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-reference-rest-apis-environment" href="/azkarra-streams/docs/reference/rest-apis/environment/">Environment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-reference-rest-apis-health" href="/azkarra-streams/docs/reference/rest-apis/health/">Health</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-reference-rest-apis-info" href="/azkarra-streams/docs/reference/rest-apis/info/">Info</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-reference-rest-apis-streams" href="/azkarra-streams/docs/reference/rest-apis/streams/">Streams</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-reference-rest-apis-topology" href="/azkarra-streams/docs/reference/rest-apis/topology/">Topologies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-reference-rest-apis-versions" href="/azkarra-streams/docs/reference/rest-apis/versions/">Version</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/archives/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Archives</a>
  </li>
  <ul>
    <li class="collapse show" id="azkarra-streams-archives">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/v0-6/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">v0.6</a>
  </li>
  <ul>
    <li class="collapse show" id="azkarra-streams-v0-6-docs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/overview/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-overview">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/getting-started/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Getting Started</a>
  </li>
  <ul>
    <li class="collapse show" id="azkarra-streams-docs-archives-v0-6-getting-started">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developer Guide</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/03_configuration/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Configuration</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide-03-configuration">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/01_topology/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">TopologyProvider</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide-01-topology">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/02_streamsexecutionenvironment/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">StreamsExecutionEnvironment</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide-02-streamsexecutionenvironment">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/04_azkarracontext/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">AzkarraContext</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide-04-azkarracontext">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/05_azkarraapplication/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">AzkarraApplication</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide-05-azkarraapplication">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/06_dependencyinjection/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Dependency Injection</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide-06-dependencyinjection">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/08_streamslifecycleinterceptor/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">The StreamsLifecycle Intercepting Chain</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide-08-streamslifecycleinterceptor">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/07_errormanagement/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Error Management</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide-07-errormanagement">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/09_security/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Security</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide-09-security">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/developer-guide/10_rocksdb/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">RocksDB</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-developer-guide-10-rocksdb">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/examples/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Examples</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-examples">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/azkarra-worker/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Worker</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-azkarra-worker">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/reference/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reference</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-reference">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/reference/api-docs/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Streams API Docs</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-reference-api-docs">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/reference/rest-apis/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Streams REST Interface</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-reference-rest-apis">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-6-reference-rest-apis-application" href="/azkarra-streams/docs/archives/v0.6/reference/rest-apis/application/">Applications</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-6-reference-rest-apis-environment" href="/azkarra-streams/docs/archives/v0.6/reference/rest-apis/environment/">Environment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-6-reference-rest-apis-health" href="/azkarra-streams/docs/archives/v0.6/reference/rest-apis/health/">Health</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-6-reference-rest-apis-info" href="/azkarra-streams/docs/archives/v0.6/reference/rest-apis/info/">Info</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-6-reference-rest-apis-streams" href="/azkarra-streams/docs/archives/v0.6/reference/rest-apis/streams/">Streams</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-6-reference-rest-apis-topology" href="/azkarra-streams/docs/archives/v0.6/reference/rest-apis/topology/">Topologies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-6-reference-rest-apis-versions" href="/azkarra-streams/docs/archives/v0.6/reference/rest-apis/versions/">Version</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.6/contribution-guidelines/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contribution Guidelines</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-6-contribution-guidelines">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/v0-7/docs/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">v0.7</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-v0-7-docs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/overview/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-overview">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/overview/azkarra/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-overview-azkarra">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/overview/contribution-guidelines/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contribution Guidelines</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-overview-contribution-guidelines">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/getting-started/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting Started</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-getting-started">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/developer-guide/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developer Guide</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-developer-guide">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-topologyprovider" href="/azkarra-streams/docs/archives/v0.7/developer-guide/topologyprovider/">TopologyProvider</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-streamsexecutionenvironment" href="/azkarra-streams/docs/archives/v0.7/developer-guide/streamsexecutionenvironment/">StreamsExecutionEnvironment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-configuration" href="/azkarra-streams/docs/archives/v0.7/developer-guide/configuration/">Configuration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-azkarracontext" href="/azkarra-streams/docs/archives/v0.7/developer-guide/azkarracontext/">AzkarraContext</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-azkarraapplication" href="/azkarra-streams/docs/archives/v0.7/developer-guide/azkarraapplication/">AzkarraApplication</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-dependencyinjection" href="/azkarra-streams/docs/archives/v0.7/developer-guide/dependencyinjection/">Dependency Injection</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-streamslifecycleinterceptors" href="/azkarra-streams/docs/archives/v0.7/developer-guide/streamslifecycleinterceptors/">The StreamsLifecycle Intercepting Chain</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-errormanagement" href="/azkarra-streams/docs/archives/v0.7/developer-guide/errormanagement/">Error Management</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-embeddedwebserver" href="/azkarra-streams/docs/archives/v0.7/developer-guide/embeddedwebserver/">Embedded Web Server</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-security" href="/azkarra-streams/docs/archives/v0.7/developer-guide/security/">Security</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-developer-guide-rocksdb" href="/azkarra-streams/docs/archives/v0.7/developer-guide/rocksdb/">RocksDB</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/azkarra-dashboard/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Dashboard</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-azkarra-dashboard">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/azkarra-metrics/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Metrics</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-azkarra-metrics">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/azkarra-worker/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Worker</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-azkarra-worker">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/examples/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tutorials and Shared Resources</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-examples">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-faq">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/reference/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reference</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-reference">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/reference/api-docs/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Streams API Docs</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-reference-api-docs">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/reference/rest-apis/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Streams REST Interface</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-reference-rest-apis">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-reference-rest-apis-application" href="/azkarra-streams/docs/archives/v0.7/reference/rest-apis/application/">Applications</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-reference-rest-apis-environment" href="/azkarra-streams/docs/archives/v0.7/reference/rest-apis/environment/">Environment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-reference-rest-apis-health" href="/azkarra-streams/docs/archives/v0.7/reference/rest-apis/health/">Health</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-reference-rest-apis-info" href="/azkarra-streams/docs/archives/v0.7/reference/rest-apis/info/">Info</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-reference-rest-apis-streams" href="/azkarra-streams/docs/archives/v0.7/reference/rest-apis/streams/">Streams</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-reference-rest-apis-topology" href="/azkarra-streams/docs/archives/v0.7/reference/rest-apis/topology/">Topologies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-reference-rest-apis-versions" href="/azkarra-streams/docs/archives/v0.7/reference/rest-apis/versions/">Version</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.7/project-info/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Project Info</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-7-project-info">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-project-info-getting-the-code" href="/azkarra-streams/docs/archives/v0.7/project-info/getting_the_code/">Getting the code</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-7-project-info-maven-modules" href="/azkarra-streams/docs/archives/v0.7/project-info/maven_modules/">Maven modules</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/v0-8/docs/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">v0.8</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-v0-8-docs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/overview/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-overview">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/overview/azkarra/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-overview-azkarra">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/overview/contribution-guidelines/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contribution Guidelines</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-overview-contribution-guidelines">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/getting-started/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting Started</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-getting-started">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/developer-guide/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developer Guide</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-developer-guide">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-topologyprovider" href="/azkarra-streams/docs/archives/v0.8/developer-guide/topologyprovider/">TopologyProvider</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-streamsexecutionenvironment" href="/azkarra-streams/docs/archives/v0.8/developer-guide/streamsexecutionenvironment/">StreamsExecutionEnvironment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-configuration" href="/azkarra-streams/docs/archives/v0.8/developer-guide/configuration/">Configuration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-azkarracontext" href="/azkarra-streams/docs/archives/v0.8/developer-guide/azkarracontext/">AzkarraContext</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-azkarraapplication" href="/azkarra-streams/docs/archives/v0.8/developer-guide/azkarraapplication/">AzkarraApplication</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-dependencyinjection" href="/azkarra-streams/docs/archives/v0.8/developer-guide/dependencyinjection/">Dependency Injection</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-streamslifecycleinterceptors" href="/azkarra-streams/docs/archives/v0.8/developer-guide/streamslifecycleinterceptors/">The StreamsLifecycle Intercepting Chain</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-errormanagement" href="/azkarra-streams/docs/archives/v0.8/developer-guide/errormanagement/">Error Management</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-embeddedwebserver" href="/azkarra-streams/docs/archives/v0.8/developer-guide/embeddedwebserver/">Embedded Web Server</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-security" href="/azkarra-streams/docs/archives/v0.8/developer-guide/security/">Security</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-developer-guide-rocksdb" href="/azkarra-streams/docs/archives/v0.8/developer-guide/rocksdb/">RocksDB</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/azkarra-dashboard/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Dashboard</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-azkarra-dashboard">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/azkarra-metrics/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Metrics</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-azkarra-metrics">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/azkarra-worker/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Worker</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-azkarra-worker">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/examples/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tutorials and Shared Resources</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-examples">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-faq">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/reference/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reference</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-reference">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/reference/api-docs/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Streams API Docs</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-reference-api-docs">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/reference/rest-apis/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azkarra Streams REST Interface</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-reference-rest-apis">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-reference-rest-apis-application" href="/azkarra-streams/docs/archives/v0.8/reference/rest-apis/application/">Applications</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-reference-rest-apis-environment" href="/azkarra-streams/docs/archives/v0.8/reference/rest-apis/environment/">Environment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-reference-rest-apis-health" href="/azkarra-streams/docs/archives/v0.8/reference/rest-apis/health/">Health</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-reference-rest-apis-info" href="/azkarra-streams/docs/archives/v0.8/reference/rest-apis/info/">Info</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-reference-rest-apis-streams" href="/azkarra-streams/docs/archives/v0.8/reference/rest-apis/streams/">Streams</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-reference-rest-apis-topology" href="/azkarra-streams/docs/archives/v0.8/reference/rest-apis/topology/">Topologies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-reference-rest-apis-versions" href="/azkarra-streams/docs/archives/v0.8/reference/rest-apis/versions/">Version</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/archives/v0.8/project-info/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Project Info</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-archives-v0-8-project-info">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-project-info-getting-the-code" href="/azkarra-streams/docs/archives/v0.8/project-info/getting_the_code/">Getting the code</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-archives-v0-8-project-info-maven-modules" href="/azkarra-streams/docs/archives/v0.8/project-info/maven_modules/">Maven modules</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/azkarra-streams/docs/project-info/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Project Info</a>
  </li>
  <ul>
    <li class="collapse " id="azkarra-streams-docs-project-info">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-project-info-getting-the-code" href="/azkarra-streams/docs/project-info/getting_the_code/">Getting the code</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-azkarra-streams-docs-project-info-maven-modules" href="/azkarra-streams/docs/project-info/maven_modules/">Maven modules</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            






<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/streamthoughts/azkarra-streams/edit/master/site/content/en/docs/Archives/v0.6/Getting%20started/_index.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/streamthoughts/azkarra-streams/issues/new?title=Getting%20Started" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/streamthoughts/azkarra-streams/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#setting-up-a-maven-project">Setting up a Maven Project</a></li>
    <li><a href="#writing-your-first-app">Writing Your First App</a></li>
    <li><a href="#make-a-topologyprovider-configurable">Make a TopologyProvider Configurable</a></li>
    <li><a href="#adding-a-shutdownhook">Adding a ShutdownHook</a></li>
    <li><a href="#running-you-app-on-docker">Running You App on Docker</a></li>
    <li><a href="#simplifying-our-application">Simplifying our Application</a></li>
    <li><a href="#externalizing-context-configuration">Externalizing Context Configuration</a></li>
    <li><a href="#autoconfigure">Auto-Configure</a></li>
    <li><a href="#embedded-http-server">Embedded Http Server</a></li>
    <li><a href="#annotations-and-component-scan">Annotations and Component Scan</a></li>
    <li><a href="#azkarra-web-ui">Azkarra Web UI</a></li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="https://streamthoughts.github.io/azkarra-streams/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://streamthoughts.github.io/azkarra-streams/archives/">Archives</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://streamthoughts.github.io/azkarra-streams/v0-6/docs/">v0.6</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://streamthoughts.github.io/azkarra-streams/docs/archives/v0.6/getting-started/">Getting Started</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Getting Started</h1>
        <div class="lead">Get started with Azkarra Streams through a step by step tutorial.</div>
	
	<p>In this tutorial we will explore the main Azkarra APIs step by step.
For that purpose we are going to develop a Kafka Streams application using the famous
<a href="https://kafka.apache.org/23/documentation/streams/quickstart">WordCountTopology</a> example.</p>
<p>The prerequisites for this tutorial are :</p>
<ul>
<li>IDE or Text editor.</li>
<li>Java 11</li>
<li>Maven 3+</li>
<li>Docker (for running a Kafka Cluster 2.x).</li>
</ul>
<h2 id="setting-up-a-maven-project">Setting up a Maven Project</h2>
<p>We are going to use a Azkarra Streams Maven Archetype for creating a simple project structure.
First, run this following command :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; mvn archetype:generate -DarchetypeGroupId<span style="color:#ce5c00;font-weight:bold">=</span>io.streamthoughts <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>-DarchetypeArtifactId<span style="color:#ce5c00;font-weight:bold">=</span>azkarra-quickstart-java <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>-DarchetypeVersion<span style="color:#ce5c00;font-weight:bold">=</span>0.5.0 <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>-DgroupId<span style="color:#ce5c00;font-weight:bold">=</span>azkarra.streams <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>-DartifactId<span style="color:#ce5c00;font-weight:bold">=</span>azkarra-getting-started <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>-Dversion<span style="color:#ce5c00;font-weight:bold">=</span>1.0-SNAPSHOT <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>-Dpackage<span style="color:#ce5c00;font-weight:bold">=</span>azkarra <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>-DinteractiveMode<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</code></pre></div><p>Maven will create a new project with the following structure :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; tree azkarra-getting-started
 azkarra-getting-started
├── docker-compose.yml
├── pom.xml
├── quickstart-create-wordcount-topics.sh
└── src
    └── main
        ├── java
        │   └── azkarra
        │       ├── SimpleStreamsApp.java
        │       └── Version.java
        └── resources
            ├── application.conf
            ├── log4j2.xml
            └── version.properties
</code></pre></div><p>The <code>pom.xml</code> already contains the Azkarra Streams and Kafka Streams dependencies :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#204a87;font-weight:bold">&lt;dependencies</span><span style="color:#204a87;font-weight:bold">&gt;</span>
    <span style="color:#204a87;font-weight:bold">&lt;dependency</span><span style="color:#204a87;font-weight:bold">&gt;</span>
        <span style="color:#204a87;font-weight:bold">&lt;groupId</span><span style="color:#204a87;font-weight:bold">&gt;</span>org.apache.kafka<span style="color:#204a87;font-weight:bold">&lt;/groupId&gt;</span>
        <span style="color:#204a87;font-weight:bold">&lt;artifactId</span><span style="color:#204a87;font-weight:bold">&gt;</span>kafka-streams<span style="color:#204a87;font-weight:bold">&lt;/artifactId&gt;</span>
        <span style="color:#204a87;font-weight:bold">&lt;version</span><span style="color:#204a87;font-weight:bold">&gt;</span>2.4.0<span style="color:#204a87;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#204a87;font-weight:bold">&lt;/dependency&gt;</span>

    <span style="color:#204a87;font-weight:bold">&lt;dependency</span><span style="color:#204a87;font-weight:bold">&gt;</span>
        <span style="color:#204a87;font-weight:bold">&lt;groupId</span><span style="color:#204a87;font-weight:bold">&gt;</span>io.streamthoughts<span style="color:#204a87;font-weight:bold">&lt;/groupId&gt;</span>
        <span style="color:#204a87;font-weight:bold">&lt;artifactId</span><span style="color:#204a87;font-weight:bold">&gt;</span>azkarra-streams<span style="color:#204a87;font-weight:bold">&lt;/artifactId&gt;</span>
        <span style="color:#204a87;font-weight:bold">&lt;version</span><span style="color:#204a87;font-weight:bold">&gt;</span>0.5.0<span style="color:#204a87;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#204a87;font-weight:bold">&lt;/dependency&gt;</span>
<span style="color:#204a87;font-weight:bold">&lt;/dependencies&gt;</span>
</code></pre></div><p>By default, Maven resources files are add to <code>src/main/resources</code>
The archetype contains a default configuration file <code>application.conf</code> that we can ignore for the moment. We will come back to this later.</p>
<p>The project also contains a very straightforward <code>docker-compose.yml</code> that we are going to use for setting up a single node Kafka cluster</p>
<h2 id="writing-your-first-app">Writing Your First App</h2>
<p>Using your favorite IDE or editor, open the Maven project.
For more fun, we will remove the bundle example and start our first app from scratch.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; <span style="color:#204a87">cd</span> azkarra-getting-started
$&gt; rm -rf src/main/java/azkarra/*.java
</code></pre></div><p>First, let's create a new file <code>src/main/java/azkarra/SimpleStreamsApp.java</code> with a basic java <code>main(String[] args)</code> method.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">SimpleStreamsApp</span> <span style="color:#ce5c00;font-weight:bold">{</span>
    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>
<span style="color:#ce5c00;font-weight:bold">}</span>
</code></pre></div><p>In Azkarra, we have to implement the <code>TopologyProvider</code> interface in order to return a <code>Topology</code> instance through a method <code>get()</code>.
For our example, we will start by creating a new class named <code>WordCountTopologyProvider</code> which implements this interface.
To keep it simple, you can declare a nested class into <code>SimpleStreamsApp</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">WordCountTopologyProvider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TopologyProvider</span> <span style="color:#ce5c00;font-weight:bold">{</span>

    <span style="color:#5c35cc;font-weight:bold">@Override</span>
    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">String</span> <span style="color:#000">version</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#4e9a06">&#34;1.0-SNAPSHOT&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#ce5c00;font-weight:bold">}</span>

    <span style="color:#5c35cc;font-weight:bold">@Override</span>
    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">Topology</span> <span style="color:#000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">StreamsBuilder</span> <span style="color:#000">builder</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">StreamsBuilder</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">KStream</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">source</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">builder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">stream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;streams-plaintext-input&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">KTable</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Long</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">counts</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">source</span>
               <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">flatMapValues</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">Arrays</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">asList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toLowerCase</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">split</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;\\W+&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span>
                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">groupBy</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">key</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">)</span>
                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">count</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Materialized</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#000">counts</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">to</span><span style="color:#ce5c00;font-weight:bold">(</span>
            <span style="color:#4e9a06">&#34;streams-wordcount-output&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> 
            <span style="color:#000">Produced</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Long</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span>
        <span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">builder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>
<span style="color:#ce5c00;font-weight:bold">}</span>
</code></pre></div><p>(Note that for clarity, all import statements are omitted in code snippets. At the end of this section, we will show the complete code.)</p>
<p>As you can see, the <code>TopologyProvider</code> interface enforces you to provide a topology version.
The version is required and you can't return <code>null</code>. Usually, you will return the version of your project (e.g : 1.0, 1.2-SNAPSHOT, etc).
Azkarra will use this version to generate a meaningful config <code>application.id</code> for your streams instance if no one is provided at runtime.</p>
<p>With Azkarra, you doesn't have to create a new <code>KafkaStreams</code> instance to run the <code>Topology</code>. This is done internally by the Azkarra API.</p>
<p>Instead of that, you are going to create a new <code>StreamsExecutionEnvironment</code> instance in the main method.
The <code>StreamsExecutionEnvironment</code> is used to handle the lifecycle of one or multiple <code>KafkaStreams</code> instances. Furthermore, this can be used for
setting common configuration and/or registering multiple listeners to be applied on all running Kafka Streams instances.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000">StreamsExecutionEnvironment</span> <span style="color:#000">env</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultStreamsExecutionEnvironment</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
</code></pre></div><p>The code above, will create a new environment with an empty configuration.</p>
<p>Moreover, an Azkarra application is not limited to a single environment.
For example, if you need to run a Kafka Streams application multiple time, you can create one environment for each target Kafka Cluster.
Thus, each environment will have its own configuration which can be passed through the method <code>DefaultStreamsExecutionEnvironment#create</code>.</p>
<p>Next, let's define the configuration that we are going to use for deploying the application.</p>
<p>Add the following lines of code in the <code>main()</code> method :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8f5902;font-style:italic">// Then, define the Kafka Streams configuration.
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Object</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">props</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">HashMap</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#ce5c00;font-weight:bold">&gt;</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">BOOTSTRAP_SERVERS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;localhost:9092&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">DEFAULT_KEY_SERDE_CLASS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getClass</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">DEFAULT_VALUE_SERDE_CLASS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getClass</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
</code></pre></div><p>Then, we can register the <code>WordCountTopologyProvider</code> previously define to our environment.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000">Conf</span> <span style="color:#000">config</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;streams&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#000">env</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">addTopology</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">WordCountTopologyProvider</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#204a87;font-weight:bold">new</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Executed</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;wordcount&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">withConfig</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
</code></pre></div><p>The streams configuration is passed through an <code>Executed</code> object. This object can also be used for naming or describing your topology.</p>
<p>Note that with Azkarra, we don't manipulate<code>Map</code> or <code>Properties</code> objects to configure a Kafka Streams
application but we use a <code>Conf</code> object.</p>
<p>Finally, we are going to start the environment. Note, that the <code>start()</code> method is always non-blocking.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000">env</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">start</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
</code></pre></div><p>The complete code so far is this:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">azkarra</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.Executed</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.StreamsExecutionEnvironment</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.config.Conf</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.streams.TopologyProvider</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.runtime.env.DefaultStreamsExecutionEnvironment</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.common.serialization.Serdes</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.StreamsBuilder</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.Topology</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.KStream</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.KTable</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.Materialized</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.Produced</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Arrays</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.HashMap</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Map</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">SimpleStreamsApp</span> <span style="color:#ce5c00;font-weight:bold">{</span>

    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
        <span style="color:#8f5902;font-style:italic">// First, create an environment for executing our Topology.
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">StreamsExecutionEnvironment</span> <span style="color:#000">env</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultStreamsExecutionEnvironment</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#8f5902;font-style:italic">// Then, define the Kafka Streams configuration,
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Object</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">props</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">HashMap</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#ce5c00;font-weight:bold">&gt;</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">BOOTSTRAP_SERVERS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;localhost:9092&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">DEFAULT_KEY_SERDE_CLASS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getClass</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">DEFAULT_VALUE_SERDE_CLASS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getClass</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#8f5902;font-style:italic">// And register the TopologyProvider to the environment.
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">Conf</span> <span style="color:#000">config</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;streams&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#000">env</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">addTopology</span><span style="color:#ce5c00;font-weight:bold">(</span>
            <span style="color:#000">WordCountTopologyProvider</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#204a87;font-weight:bold">new</span><span style="color:#ce5c00;font-weight:bold">,</span>
            <span style="color:#000">Executed</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;wordcount&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">withConfig</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">)</span>
        <span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#8f5902;font-style:italic">// Finally, start the streams environment.
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">env</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">start</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>
    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">WordCountTopologyProvider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TopologyProvider</span> <span style="color:#ce5c00;font-weight:bold">{</span>
        <span style="color:#5c35cc;font-weight:bold">@Override</span>
        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">String</span> <span style="color:#000">version</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#4e9a06">&#34;1.0&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#ce5c00;font-weight:bold">}</span>

        <span style="color:#5c35cc;font-weight:bold">@Override</span>
        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">Topology</span> <span style="color:#000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
            <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">StreamsBuilder</span> <span style="color:#000">builder</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">StreamsBuilder</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">KStream</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">source</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">builder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">stream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;streams-plaintext-input&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">KTable</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Long</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">counts</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">source</span>
                    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">flatMapValues</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">Arrays</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">asList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toLowerCase</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">split</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;\\W+&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span>
                    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">groupBy</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">key</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">)</span>
                    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">count</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Materialized</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#000">counts</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">to</span><span style="color:#ce5c00;font-weight:bold">(</span>
                    <span style="color:#4e9a06">&#34;streams-wordcount-output&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
                    <span style="color:#000">Produced</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Long</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span>
            <span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">builder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#ce5c00;font-weight:bold">}</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>
<span style="color:#ce5c00;font-weight:bold">}</span>
</code></pre></div><p>Before building and running the application, let's make our <code>TopologyProvider</code> a little more configurable.</p>
<h2 id="make-a-topologyprovider-configurable">Make a TopologyProvider Configurable</h2>
<p>Currently, the names of the source and sink topics are hard-coded. This is also the case for the materialized state store <code>count</code>.
To make our topology configurable, we will modify the <code>WordCountTopologyProvider</code> class to implement the interface <code>io.streamthoughts.azkarra.api.config.Configurable</code>.</p>
<p>This interface defines a method <code>configure</code> that accepts an argument of type <code>Conf</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">WordCountTopologyProvider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TopologyProvider</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Configurable</span> <span style="color:#ce5c00;font-weight:bold">{</span>

    <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#000">String</span> <span style="color:#000">topicSource</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#000">String</span> <span style="color:#000">topicSink</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#000">String</span> <span style="color:#000">stateStoreName</span><span style="color:#ce5c00;font-weight:bold">;</span>

    <span style="color:#5c35cc;font-weight:bold">@Override</span>
    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">configure</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">Conf</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
        <span style="color:#000">topicSource</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.source&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#000">topicSink</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.sink&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#000">stateStoreName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getOptionalString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;state.store.name&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">orElse</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>
    <span style="color:#5c35cc;font-weight:bold">@Override</span>
    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">String</span> <span style="color:#000">version</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#4e9a06">&#34;1.0&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#ce5c00;font-weight:bold">}</span>

    <span style="color:#5c35cc;font-weight:bold">@Override</span>
    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">Topology</span> <span style="color:#000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">StreamsBuilder</span> <span style="color:#000">builder</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">StreamsBuilder</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">KStream</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">source</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">builder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">stream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">topicSource</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">KTable</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Long</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">counts</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">source</span>
                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">flatMapValues</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">Arrays</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">asList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toLowerCase</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">split</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;\\W+&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span>
                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">groupBy</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">key</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">)</span>
                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">count</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Materialized</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">stateStoreName</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#8f5902;font-style:italic">// need to override value serde to Long type
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">counts</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">to</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">topicSink</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Produced</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Long</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">builder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>
<span style="color:#ce5c00;font-weight:bold">}</span>
</code></pre></div><p>Now, we can update the configuration defined above in order to configure our <code>WordCountTopologyProvider</code> class.
The <code>StreamsExecutionEnvironment</code> will be responsible for invoking the method <code>configure()</code> before retrieving the <code>Topology</code>.</p>
<p>For doing this, we can use the helper class <code>ConfBuilder</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000">Conf</span> <span style="color:#000">config</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">ConfBuilder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">newConf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span>
    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;streams&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">)</span>
    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.source&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;streams-plaintext-input&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.sink&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;streams-wordcount-output&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;state.store.name&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;WordCount&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

    <span style="color:#8f5902;font-style:italic">// And register the TopologyProvider to the environment.
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">env</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">addTopology</span><span style="color:#ce5c00;font-weight:bold">(</span>
        <span style="color:#000">WordCountTopologyProvider</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#204a87;font-weight:bold">new</span><span style="color:#ce5c00;font-weight:bold">,</span>
        <span style="color:#000">Executed</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;wordcount&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">withConfig</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">)</span>
    <span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
</code></pre></div><p>Instead of configuring our streams and our provider on the topology-level, we can passed the configuration to the <code>StreamsExecutionEnvironment</code>.
All topologies will then automatically inherit the configuration of their <code>StreamsExecutionEnvironment</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000">StreamsExecutionEnvironment</span> <span style="color:#000">env</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultStreamsExecutionEnvironment</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
</code></pre></div><p>Making a topology configurable is always recommend. This can be useful, for example, if you need to test a topology with different parameters.</p>
<p>The complete code so far is this:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">azkarra</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.Executed</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.StreamsExecutionEnvironment</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.config.Conf</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.config.ConfBuilder</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.config.Configurable</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.streams.TopologyProvider</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.runtime.env.DefaultStreamsExecutionEnvironment</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.common.serialization.Serdes</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.StreamsBuilder</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.Topology</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.KStream</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.KTable</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.Materialized</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.Produced</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Arrays</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.HashMap</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Map</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">SimpleStreamsApp</span> <span style="color:#ce5c00;font-weight:bold">{</span>

    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
        <span style="color:#8f5902;font-style:italic">// First, define the Kafka Streams configuration,
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Object</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">props</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">HashMap</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#ce5c00;font-weight:bold">&gt;</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">BOOTSTRAP_SERVERS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;localhost:9092&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">DEFAULT_KEY_SERDE_CLASS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getClass</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">DEFAULT_VALUE_SERDE_CLASS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getClass</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">Conf</span> <span style="color:#000">config</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">ConfBuilder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">newConf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span>
            <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;streams&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">)</span>
            <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.source&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;streams-plaintext-input&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
            <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.sink&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;streams-wordcount-output&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
            <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;state.store.name&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;WordCount&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
            <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#8f5902;font-style:italic">// Then, create an environment for executing our Topology.
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">StreamsExecutionEnvironment</span> <span style="color:#000">env</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultStreamsExecutionEnvironment</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#8f5902;font-style:italic">// And register the TopologyProvider to the environment.
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">env</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">addTopology</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">WordCountTopologyProvider</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#204a87;font-weight:bold">new</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Executed</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;wordcount&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#8f5902;font-style:italic">// Finally, start the streams environment.
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">env</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">start</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>

    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">WordCountTopologyProvider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TopologyProvider</span> <span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Configurable</span> <span style="color:#ce5c00;font-weight:bold">{</span>

        <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#000">String</span> <span style="color:#000">topicSource</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#000">String</span> <span style="color:#000">topicSink</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#000">String</span> <span style="color:#000">stateStoreName</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#5c35cc;font-weight:bold">@Override</span>
        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">configure</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">Conf</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
            <span style="color:#000">topicSource</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.source&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
            <span style="color:#000">topicSink</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.sink&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
            <span style="color:#000">stateStoreName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getOptionalString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;state.store.name&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">orElse</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#ce5c00;font-weight:bold">}</span>

        <span style="color:#5c35cc;font-weight:bold">@Override</span>
        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">String</span> <span style="color:#000">version</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#4e9a06">&#34;1.0&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#ce5c00;font-weight:bold">}</span>

        <span style="color:#5c35cc;font-weight:bold">@Override</span>
        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">Topology</span> <span style="color:#000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
            <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">StreamsBuilder</span> <span style="color:#000">builder</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">StreamsBuilder</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">KStream</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">source</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">builder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">stream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">topicSource</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">KTable</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Long</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">counts</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">source</span>
                    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">flatMapValues</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">Arrays</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">asList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toLowerCase</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">split</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;\\W+&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span>
                    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">groupBy</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">key</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">)</span>
                    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">count</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Materialized</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">stateStoreName</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#000">counts</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">to</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">topicSink</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Produced</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Long</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">builder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#ce5c00;font-weight:bold">}</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>
<span style="color:#ce5c00;font-weight:bold">}</span>
</code></pre></div><p>There is still one missing piece to our application.
Indeed, it's always recommend to configure a Java shutdown hook to ensure that our JVM shutdowns are handled gracefully.</p>
<h2 id="adding-a-shutdownhook">Adding a ShutdownHook</h2>
<p>For adding a shutdown hook we are going to refactor our application by introducing a new concept called <code>AzkarraContext</code>.
An <code>AzkarraContext</code> is used to manage lifecycle of one or more <code>StreamsExecutionEnvironment</code>. Like an environment an <code>AzkarraContext</code>
can also be configured and all environments will automatically inherit from it.</p>
<p>Replace your <code>main()</code> method with the code below :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
    <span style="color:#8f5902;font-style:italic">// First, define the Kafka Streams configuration,
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Object</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">props</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">HashMap</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#ce5c00;font-weight:bold">&gt;</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">BOOTSTRAP_SERVERS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;localhost:9092&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">DEFAULT_KEY_SERDE_CLASS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getClass</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">StreamsConfig</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">DEFAULT_VALUE_SERDE_CLASS_CONFIG</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getClass</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

    <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">Conf</span> <span style="color:#000">config</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">ConfBuilder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">newConf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span>
        <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;streams&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">props</span><span style="color:#ce5c00;font-weight:bold">)</span>
        <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.source&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;streams-plaintext-input&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
        <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.sink&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;streams-wordcount-output&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
        <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;state.store.name&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;WordCount&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span>
        <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

    <span style="color:#8f5902;font-style:italic">// Then, create an environment for executing our Topology.
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">StreamsExecutionEnvironment</span> <span style="color:#000">env</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultStreamsExecutionEnvironment</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

    <span style="color:#8f5902;font-style:italic">// And register the TopologyProvider to the environment.
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">env</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">addTopology</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">WordCountTopologyProvider</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#204a87;font-weight:bold">new</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Executed</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;wordcount&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

    <span style="color:#8f5902;font-style:italic">// Finally, create and start an Azkarra Context.
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">DefaultAzkarraContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">)</span>
        <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">addExecutionEnvironment</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">env</span><span style="color:#ce5c00;font-weight:bold">)</span>
        <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRegisterShutdownHook</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">)</span>
        <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">start</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#ce5c00;font-weight:bold">}</span>
</code></pre></div><p>As you can see, this is the <code>AzkarraContext</code> which is responsible for starting the environment.
In addition, we have moved the configuration from the <code>StreamsExecutionEnvironment</code> to the <code>AzkarraContext</code>.</p>
<p>The Azkarra API is designed to allow sensible overriding of properties. Configuration are considered in the following order :</p>
<ul>
<li>Topology (using the <code>Executed</code>).</li>
<li>StreamsExecutionEnvironment (using <code>create()</code> or <code>setConfiguration</code>).</li>
<li>AzkarraContext (using <code>create()</code> or <code>setConfiguration</code>).</li>
</ul>
<p>(Note : You should always have a single <code>AzkarraContext</code> per application even if Azkarra does not enforce a singleton pattern.)</p>
<p>Now, we are ready to build and run our application.</p>
<h2 id="running-you-app-on-docker">Running You App on Docker</h2>
<p>Before running this example, you will have to start a Kafka Cluster. For that purpose we will
use the official Kafka Docker images maintain by Confluent.Inc.</p>
<p>You can start a single-node Kafka Cluster using the file<code>docker-compose.yml</code>.</p>
<pre><code>$&gt; cd azkarra-getting-started
$&gt; docker-compose up -d
</code></pre><p>Next, we have to create the two source and sink topics used by the topology.
For that, you can run the provided script :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; chmod u+x ./quickstart-create-wordcount-topics.sh
$&gt; ./quickstart-create-wordcount-topics.sh
</code></pre></div><p>Or directly run those commands :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; docker <span style="color:#204a87">exec</span> -it azkarra-cp-broker /usr/bin/kafka-topics <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>--create --topic streams-plaintext-input --replication-factor <span style="color:#0000cf;font-weight:bold">1</span> --partitions <span style="color:#0000cf;font-weight:bold">3</span> --zookeeper zookeeper:2181

$&gt; docker <span style="color:#204a87">exec</span> -it azkarra-cp-broker /usr/bin/kafka-topics <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>--create --topic streams-wordcount-output --replication-factor <span style="color:#0000cf;font-weight:bold">1</span> --partitions <span style="color:#0000cf;font-weight:bold">3</span> --zookeeper zookeeper:2181
</code></pre></div><p>As a last step, we will package and run the Maven project :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; mvn clean package <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> java -jar target/azkarra-quickstart-java-0.5.0.jar
</code></pre></div><p>Let's produce some input messages to Kafka topic <code>streams-plaintext-input</code> :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; docker <span style="color:#204a87">exec</span> -it azkarra-cp-broker /usr/bin/kafka-console-producer <span style="color:#4e9a06">\ </span>
--topic streams-plaintext-input --broker-list kafka:9092

Azkarra Streams
WordCount
I Heart Logs   
Kafka Streams
Making Sense of Stream Processing
</code></pre></div><p>Then consume from output topic <code>streams-wordcount-output</code> :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; docker <span style="color:#204a87">exec</span> -it azkarra-cp-broker /usr/bin/kafka-console-consumer --from-beginning <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>--property print.key<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">true</span> --property key.separator<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;-&#34;</span> <span style="color:#4e9a06">\ </span>
--topic streams-wordcount-output --bootstrap-server kafka:9092 
</code></pre></div><p>Congratulation! You just run you first KafkaStreams application using Azkarra.</p>
<p><strong>But, Azkarra is not limited to that and can do much more.</strong>  So let’s go ahead and explore what is making Azkarra so cool!</p>
<p>(In the following section we will omitted the code for the WordCountTopology for clarity)</p>
<h2 id="simplifying-our-application">Simplifying our Application</h2>
<p>In the previous example, we have manually created a <code>StreamsExecutionEnvironment</code> and added the <code>WordCountTopologyProvider</code>.
Actually, our objective was to give you an overview of Azkarra's main concepts.
Defining environments in a programmatic way gives you flexibility but can be sometime cumbersome.</p>
<p>Our application can be simplified by using a default environment that will be created by the <code>ArkarraContext</code>.
For this, we are going to remove the environment instance previously created for directly registering the <code>WordCountTopologyProvider</code>
to the context using the method <code>addTopology()</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000">AzkarraContext</span> <span style="color:#000">context</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultAzkarraContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">addTopology</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">WordCountTopologyProvider</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Executed</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;wordcount&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRegisterShutdownHook</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">start</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
</code></pre></div><h2 id="externalizing-context-configuration">Externalizing Context Configuration</h2>
<p>The externalization of configuration is a requirement to deploy any application in production.</p>
<p>For that purpose, Azkarra provide the class so-called <code>AzkarraConf</code>.
Internally, it uses the <a href="https://github.com/lightbend/config">Config</a> library developed by Lightbend to ease the configuration of your application from an external file.</p>
<p>First, we will update the file <code>src/main/resources/application.conf</code> to contain the following code :</p>
<pre><code>streams {
  bootstrap.servers = &quot;localhost:9092&quot;
  default.key.serde = &quot;org.apache.kafka.common.serialization.Serdes$StringSerde&quot;
  default.value.serde = &quot;org.apache.kafka.common.serialization.Serdes$StringSerde&quot;
}

topic {
  source = &quot;streams-plaintext-input&quot;
  sink = &quot;streams-wordcount-output&quot;
  store.name = &quot;WordCount&quot;
}
</code></pre><p>Next, we will replace our configuration by loading the <code>application.conf</code> using <code>AzkarraConf.create(&quot;application&quot;)</code></p>
<p>The complete code so far is this:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">azkarra</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.Executed</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.config.Conf</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.config.Configurable</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.streams.TopologyProvider</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.runtime.context.DefaultAzkarraContext</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.streams.config.AzkarraConf</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.common.serialization.Serdes</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.StreamsBuilder</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.Topology</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.KStream</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.KTable</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.Materialized</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.Produced</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Arrays</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">SimpleStreamsApp</span> <span style="color:#ce5c00;font-weight:bold">{</span>

    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
        <span style="color:#8f5902;font-style:italic">// Create a new AzkarraConf from the classpath file application.conf
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">AzkarraConf</span> <span style="color:#000">config</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">AzkarraConf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#8f5902;font-style:italic">// Create and start a default AzkarraContext
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">AzkarraContext</span> <span style="color:#000">context</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultAzkarraContext</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">addTopology</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">WordCountTopologyProvider</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Executed</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;wordcount&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        
        <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRegisterShutdownHook</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">start</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>

    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">WordCountTopologyProvider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TopologyProvider</span> <span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Configurable</span> <span style="color:#ce5c00;font-weight:bold">{</span>
    <span style="color:#8f5902;font-style:italic">// code omitted for clarity....
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#ce5c00;font-weight:bold">}</span>
<span style="color:#ce5c00;font-weight:bold">}</span>
</code></pre></div><h2 id="autoconfigure">Auto-Configure</h2>
<p>Azkarra supports a mechanism of auto-configuration for automatically declaring environments and topologies to be run.
For that, we will introduce a new concept so-called <code>AzkarraApplication</code>.</p>
<p>Most of the time, the <code>AzkarraApplication</code> will be your main entry point when creating a new streams application.
Basically, this class is responsible for initializing and managing your application based on the specified configuration.
Internally, it will create an <code>AzkarraContext</code> instance and the <code>StreamsExecutionEnvrionment</code> instances declared in your configuration.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">azkarra</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.config.Conf</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.config.Configurable</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.streams.TopologyProvider</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.streams.AzkarraApplication</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.streams.config.AzkarraConf</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.common.serialization.Serdes</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.StreamsBuilder</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.Topology</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.KStream</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.KTable</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.Materialized</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.Produced</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Arrays</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">SimpleStreamsApp</span> <span style="color:#ce5c00;font-weight:bold">{</span>

    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
        <span style="color:#8f5902;font-style:italic">// Create configuration from externalized file.
</span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">AzkarraConf</span> <span style="color:#000">config</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">AzkarraConf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">AzkarraApplication</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">SimpleStreamsApp</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
            <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setConfiguration</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">)</span>
            <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRegisterShutdownHook</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">)</span>
            <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">run</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>

    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">WordCountTopologyProvider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TopologyProvider</span> <span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Configurable</span> <span style="color:#ce5c00;font-weight:bold">{</span>
    <span style="color:#8f5902;font-style:italic">// code omitted for clarity....
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#ce5c00;font-weight:bold">}</span>
<span style="color:#ce5c00;font-weight:bold">}</span>
</code></pre></div><p>Next, update the <code>application.conf</code> to contain the following code :</p>
<p>Note that we have to create a parent config named <code>azkarra</code>.</p>
<pre><code>azkarra {
  // The context configuration.
  context {
    streams {
      bootstrap.servers = &quot;localhost:9092&quot;
      default.key.serde = &quot;org.apache.kafka.common.serialization.Serdes$StringSerde&quot;
      default.value.serde = &quot;org.apache.kafka.common.serialization.Serdes$StringSerde&quot;
    }
  }
    
  // List of components to be registered into the AzkarraContext (e.g : TopologyProviders).
  components = [
    &quot;azkarra.SimpleStreamsApp$WordCountTopologyProvider&quot;
  ]
    
  // List of environments.
  environments = [
    {
      name = &quot;__default&quot;
      config = {}
      // List of streams jobs to execute
      jobs = [
        {
          name = &quot;word-count-demo&quot;
          description = &quot;Kafka Streams WordCount Demo&quot;
          topology = WordCountTopology
          // The topology configuration.
          config {
            topic {
              source = &quot;streams-plaintext-input&quot;
              sink = &quot;streams-wordcount-output&quot;
              store.name = &quot;WordCount&quot;
            }
          }  
        }
      ]
    }
  ]
}
</code></pre><h2 id="embedded-http-server">Embedded Http Server</h2>
<p>Azkarra ships with an embedded non-blocking HTTP server (based on Undertow) to expose RESTful APIs.
These APIs can be used not only to manage your local Kafka Streams instances and Topologies
but also to execute interactive queries on your application states stores.</p>
<p>The HTTP-Server can be enable and configured via the <code>AzkarraApplication</code> as follows :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000">AzkarraConf</span> <span style="color:#000">config</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">AzkarraConf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">AzkarraApplication</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">SimpleStreamsApp</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">)</span>
    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setConfiguration</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">)</span>
     <span style="color:#8f5902;font-style:italic">// Enable http server and set the context.
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">enableHttpServer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">HttpServerConf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;localhost&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">8080</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span>
    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRegisterShutdownHook</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">)</span>
    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">run</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
</code></pre></div><p>Let's have a look to some REST APIs.</p>
<ul>
<li>List local streams instances :</li>
</ul>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; curl -sX GET <span style="color:#4e9a06">&#39;http://localhost:8080/api/v1/streams&#39;</span> <span style="color:#000;font-weight:bold">|</span> jq
</code></pre></div><ul>
<li>Get details about a running streams instance</li>
</ul>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; curl -sX GET <span style="color:#4e9a06">&#39;http://localhost:8080/api/v1/streams/word-count-demo-1-0&#39;</span> <span style="color:#000;font-weight:bold">|</span> jq
</code></pre></div><ul>
<li>Get metrics of a running streams instance</li>
</ul>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; curl -sX GET <span style="color:#4e9a06">&#39;http://localhost:8080/api/v1/streams/word-count-demo-1-0/metrics&#39;</span> <span style="color:#000;font-weight:bold">|</span> jq
</code></pre></div><ul>
<li>Query state store</li>
</ul>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$&gt; curl -sX POST <span style="color:#4e9a06">&#39;http://localhost:8080/api/v1/applications/word-count-demo-1-0/stores/count&#39;</span> --data <span style="color:#4e9a06">&#39;{ &#34;type&#34;:&#34;key_value&#34;, &#34;query&#34; : {&#34;all&#34;:{} } }&#39;</span> <span style="color:#000;font-weight:bold">|</span> jq
</code></pre></div><h2 id="annotations-and-component-scan">Annotations and Component Scan</h2>
<p>For even more simplicity, Azkarra provides mechanisms for auto-discovering <code>TopologyProvider</code> classes.</p>
<p>Finally, the complete version of our application looks like this :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">azkarra</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.annotations.Component</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.config.Conf</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.config.Configurable</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.api.streams.TopologyProvider</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.streams.AzkarraApplication</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">io.streamthoughts.azkarra.streams.autoconfigure.annotations.AzkarraStreamsApplication</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.common.serialization.Serdes</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.StreamsBuilder</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.Topology</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.KStream</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.KTable</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.Materialized</span><span style="color:#ce5c00;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">org.apache.kafka.streams.kstream.Produced</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Arrays</span><span style="color:#ce5c00;font-weight:bold">;</span>

<span style="color:#5c35cc;font-weight:bold">@AzkarraStreamsApplication</span>
<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">SimpleStreamsApp</span> <span style="color:#ce5c00;font-weight:bold">{</span>

    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
        <span style="color:#000">AzkarraApplication</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">run</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">SimpleStreamsApp</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>

    <span style="color:#5c35cc;font-weight:bold">@Component</span>
    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">WordCountTopologyProvider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">TopologyProvider</span> <span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Configurable</span> <span style="color:#ce5c00;font-weight:bold">{</span>

        <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#000">String</span> <span style="color:#000">topicSource</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#000">String</span> <span style="color:#000">topicSink</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#000">String</span> <span style="color:#000">stateStoreName</span><span style="color:#ce5c00;font-weight:bold">;</span>

        <span style="color:#5c35cc;font-weight:bold">@Override</span>
        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">configure</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">Conf</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
            <span style="color:#000">topicSource</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.source&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
            <span style="color:#000">topicSink</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;topic.sink&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
            <span style="color:#000">stateStoreName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">conf</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getOptionalString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;state.store.name&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">orElse</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#ce5c00;font-weight:bold">}</span>

        <span style="color:#5c35cc;font-weight:bold">@Override</span>
        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">String</span> <span style="color:#000">version</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#4e9a06">&#34;0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#ce5c00;font-weight:bold">}</span>

        <span style="color:#5c35cc;font-weight:bold">@Override</span>
        <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">Topology</span> <span style="color:#000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
            <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">StreamsBuilder</span> <span style="color:#000">builder</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">StreamsBuilder</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">KStream</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">source</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">builder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">stream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">topicSource</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">KTable</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Long</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">counts</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">source</span>
                    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">flatMapValues</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">Arrays</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">asList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toLowerCase</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">split</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;\\W+&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span>
                    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">groupBy</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">key</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">)</span>
                    <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">count</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Materialized</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">as</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">stateStoreName</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#000">counts</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">to</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">topicSink</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Produced</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">with</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">String</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Serdes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Long</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>

            <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">builder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">;</span>
        <span style="color:#ce5c00;font-weight:bold">}</span>
    <span style="color:#ce5c00;font-weight:bold">}</span>
<span style="color:#ce5c00;font-weight:bold">}</span>
</code></pre></div><p>The <code>@AzkarraStreamsApplication</code> is a convenience annotation that adds all of the following:</p>
<ul>
<li><code>@EnableAutoConfig</code>: Tells Azkarra to auto-configure internal <code>AzkarraContext</code></li>
<li><code>@EnableAutoStart</code>: Tells Azkarra to automatically start any registered <code>TopologyProvider</code> using the default environment.</li>
<li><code>@EnableEmbeddedHttpServer</code>: Tells Azkarra to start the embedded http-server.</li>
<li><code>@ComponentScan</code>: Tells Azkarra to look for classes annotated with <code>@Component</code> in the current package.</li>
</ul>
<p>We can simplify the <code>application.conf</code> by removing the environments sections.
Azkarra will automatically load all your <code>TopologyProvider</code> by scanning your project classpath.</p>
<p>Now, the <code>application.conf</code> should only contain the following code :</p>
<pre><code>azkarra {
  // The context configuration.
  context {
    streams {
      bootstrap.servers = &quot;localhost:9092&quot;
      default.key.serde = &quot;org.apache.kafka.common.serialization.Serdes$StringSerde&quot;
      default.value.serde = &quot;org.apache.kafka.common.serialization.Serdes$StringSerde&quot;
    }
    topic {
      source = &quot;streams-plaintext-input&quot;
      sink = &quot;streams-wordcount-output&quot;
      store.name = &quot;WordCount&quot;    
    }
  }
}
</code></pre><h2 id="azkarra-web-ui">Azkarra Web UI</h2>
<p>And, finally, we saved the best for last!
Azkarra also provide a default WebUI for exploring your local streams application.
<a href="http://localhost:8080/ui">Azkarra Streams Web UI</a></p>

        <div class="section-index">
    
    
    
    
    <hr class="panel-line">
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    
</div>

	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified May 9, 2020: <a  href="https://github.com/streamthoughts/azkarra-streams/commit/0b26ef6365dfa6a71542b67ae96b4261e0bbb735">docs(site): update Azkarra website for release 0.7.0 (0b26ef63)</a>
</div>
</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/streamthoughts/azkarra-streams">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://communityinviter.com/apps/azkarra-streams/azkarra-streams-community">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2025 The Azkarra Streams Authors All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>







<script src="/azkarra-streams/js/main.min.48a9f24e75ae2c1706eac3ea0ce8b7c365d2572ac29462904507edb3672b9e52.js" integrity="sha256-SKnyTnWuLBcG6sPqDOi3w2XSVyrClGKQRQfts2crnlI=" crossorigin="anonymous"></script>



  </body>
</html>